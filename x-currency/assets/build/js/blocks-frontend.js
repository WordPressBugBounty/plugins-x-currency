import*as t from"@wordpress/interactivity";var e={d:(t,o)=>{for(var i in o)e.o(o,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:o[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const o=(r={getContext:()=>t.getContext,getElement:()=>t.getElement,store:()=>t.store},c={},e.d(c,r),c),i=(t,e)=>t.getBoundingClientRect().bottom+e<=window.innerHeight?"open-bottom":"open-top",n=(t,e)=>{t.classList.remove("open-top","open-bottom"),t.classList.add(e)},{actions:s}=(0,o.store)("x-currency/switcher",{state:{hideWrapper:()=>(0,o.getContext)().hide},callbacks:{initSwitcher:()=>{const t=(0,o.getElement)(),e=(0,o.getContext)(),s=t.ref.querySelector(".display-none");if(s&&s.classList.remove("display-none"),t.ref.classList.contains("x-currency-shortcode")){t.ref.classList.add("open-bottom");const o=t.ref.querySelector(".currency-wrap");if(o){const s=window.getComputedStyle(o).top,r=(t=>{const e={display:t.style.display,visibility:t.style.visibility,position:t.style.position,opacity:t.style.opacity};t.style.display="block",t.style.visibility="hidden",t.style.position="absolute",t.style.opacity="0";const o=t.offsetHeight;return Object.assign(t.style,e),o})(o)+(parseFloat(s.replace("px",""))||0);e.wrapperHeight=r;const c=()=>{const o=i(t.ref,e.wrapperHeight);n(t.ref,o)},a=(t=>{let e;return function(...o){clearTimeout(e),e=setTimeout(()=>{clearTimeout(e),t(...o)},100)}})(c);c(),window.addEventListener("resize",a),window.addEventListener("scroll",a)}}}},actions:{clickSwitcher:()=>{const t=(0,o.getContext)(),e=(0,o.getElement)().ref.closest(".x-currency-shortcode"),s=!t.hide;e&&t.wrapperHeight&&(s||(()=>{const o=i(e,t.wrapperHeight);n(e,o)})()),t.hide=s},clickOption:()=>{const t=(0,o.getContext)();t.hide=!t.hide,s.clickStickyOption()},clickStickyOption:()=>{const t=(0,o.getElement)().ref.dataset.code,e=new URLSearchParams(window.location.search);e.set("currency",t);const i=e.toString(),n=`${window.location.origin}${window.location.pathname}?${i}`;window.location.href=n}}});var r,c;