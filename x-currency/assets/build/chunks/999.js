"use strict";(globalThis.webpackChunkx_currency=globalThis.webpackChunkx_currency||[]).push([[999],{2725:(t,e,r)=>{function n(t){switch(t){case"right":return"%2$s%1$s";case"left_space":return"%1$s %2$s";case"right_space":return"%2$s %1$s";default:return"%1$s%2$s"}}r.d(e,{$:()=>a,X:()=>n});var o=r(2619);function a(){return(0,o.applyFilters)("x-currency-pro-status",!1)}},6999:(t,e,r)=>{r.r(e),r.d(e,{default:()=>le});var n,o,a,i,c=r(6283),u=r(6427),l=r(7723),s=r(590),f=r(9491),h=r(7143),y=r(6087),p=r(2619),m=r(1995),d=r(1305),v=r(7162),g=r(2448),b=r(3301),w=r(4717),x=r(718);function E(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var _=(0,x.A)(u.Flex)(n||(n=E(["\n\tgap: 12px;\n\n\t.flag img {\n\t\twidth: 45px;\n\t\tborder-radius: 5px;\n\t}\n\n\t.information {\n\t\t.top {\n\t\t\tdisplay: flex;\n\t\t\tgap: 6px;\n\t\t\tmargin-bottom: 4px;\n\n\t\t\t.name {\n\t\t\t\tcolor: var( --Dark-01, #252525 );\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tfont-family: Inter;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tfont-style: normal;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tline-height: 22px;\n\t\t\t}\n\t\t}\n\n\t\t.bottom {\n\t\t\tdisplay: block;\n\t\t\tcolor: var( --Dark-03, #656565 );\n\t\t\tfont-family: Inter;\n\t\t\tfont-size: 14px;\n\t\t\tfont-style: normal;\n\t\t\tfont-weight: 400;\n\t\t\tline-height: 20px;\n\t\t}\n\t}\n"]))),R=(0,x.A)(b.A)(o||(o=E(["\n\tmax-width: 1400px;\n\tmargin: auto !important;\n"]))),A=(0,x.A)(w.A)(a||(a=E(["\n\tpadding-top: 32px;\n\t.ant-drawer-body {\n\t\tposition: relative;\n\t}\n\t.ant-drawer-footer {\n\t\tpadding-top: 16px;\n\t\tpadding-bottom: 16px;\n\t}\n"]))),O=x.A.div(i||(i=E(["\n\twidth: 100%;\n\tbackground: #fafafa;\n\tpadding: 24px;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n"]))),S=r(9583),j=r(466),k=r(1171),P=r(8239),F=r(1455),C=r.n(F),I=r(5365);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function T(){T=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,o){var a=r&&r.prototype instanceof h?r:h,i=Object.create(a.prototype);return u(i,"_invoke",function(e,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=x(c,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var l=s(e,r,n);if("normal"===l.type){if(o=n.done?4:2,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=4,n.method="throw",n.arg=l.arg)}}}(e,n,new R(o||[])),!0),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f={};function h(){}function y(){}function p(){}var m={};u(m,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(A([])));v&&v!==r&&n.call(v,a)&&(m=v);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==N(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var o;u(this,"_invoke",(function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(e,r){var n=r.method,o=e.i[n];if(o===t)return r.delegate=null,"throw"===n&&e.i.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(o,e.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[e.r]=i.value,r.next=e.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function E(t){this.tryEntries.push(t)}function _(e){var r=e[4]||{};r.type="normal",r.arg=t,e[4]=r}function R(t){this.tryEntries=[[-1]],t.forEach(E,this),this.reset(!0)}function A(e){if(null!=e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(N(e)+" is not iterable")}return y.prototype=p,u(g,"constructor",p),u(p,"constructor",y),u(p,c,y.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},e.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t){i.type="throw",i.arg=e,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],c=this.prev,u=a[1],l=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!l)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=c){if(c<u)return this.method="next",this.arg=t,n(u),!0;if(c<l)return n(l),!1}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[2]===t)return this.complete(r[4],r[3]),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[0]===t){var n=r[4];if("throw"===n.type){var o=n.arg;_(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={i:A(e),r,n},"next"===this.method&&(this.arg=t),f}},e}function G(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function U(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return D(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var B=Array.from({length:13},(function(t,e){return{value:e,label:e}}));const M=function(t){var e=t.form,r=t.initialValues,n=t.disabled,o=t.isBaseCurrency,a=void 0!==o&&o,i=t.values,c=t.setValues,s=t.openDrawer,f=t.flagUrl,h=t.setFlagUrl,p=U((0,y.useState)([]),2),m=p[0],v=p[1],g=U((0,y.useState)(!0),2),b=g[0],w=g[1];(0,y.useEffect)((function(){var t=function(){var t,e=(t=T().mark((function t(){var e;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C()({path:"x-currency/admin/payment-gateways"});case 3:e=t.sent,v(e.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Failed to fetch payment gateways:",t.t0);case 10:return t.prev=10,w(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){G(a,n,o,i,c,"next",t)}function c(t){G(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();t()}),[]),(0,y.useEffect)((function(){_(),c({})}),[s]);var x=a||n,E=(0,y.useRef)(null),_=function(){h(!1),e.setFieldsValue({flag:!1})},R=x_currency.countries_code[i.code];return React.createElement(S.A,{form:e,name:"validateOnly",layout:"vertical",autoComplete:"off",size:"large",initialValues:r,disabled:n,onValuesChange:function(t,e){c(e)}},React.createElement(S.A.Item,{name:"name",label:(0,l.__)("Name","x-currency"),rules:[{required:!0}]},React.createElement(j.A,null)),React.createElement(S.A.Item,{name:"flag",hidden:!0},React.createElement(j.A,null)),React.createElement(S.A.Item,{name:"media",label:(0,l.__)("Flag","x-currency")},React.createElement(u.Flex,null,React.createElement(u.FlexItem,null,React.createElement(k.A,{src:f||"".concat(x_currency.asset_url,"/images/flags/").concat(R,".png")})),React.createElement(u.FlexBlock,null,React.createElement(d.Ay,{onClick:function(){E.current||(E.current=wp.media({title:(0,l.__)("Select or Upload Media","x-currency"),button:{text:(0,l.__)("Use this media","x-currency")},multiple:!1}),E.current.on("select",(function(){var t=E.current.state().get("selection").first().toJSON();e.setFieldsValue({flag:t.id}),h(t.url)}))),E.current.open()},icon:React.createElement(I.A,null),size:"middle"},R?(0,l.__)("Replace","x-currency"):(0,l.__)("Upload","x-currency")),f&&React.createElement(d.Ay,{style:{marginLeft:10},onClick:_,size:"middle"},(0,l.__)("Reset","x-currency"))))),React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"code",label:(0,l.__)("Code","x-currency"),rules:[{required:!0}]},React.createElement(j.A,{disabled:x}))),React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"symbol",label:(0,l.__)("Symbol","x-currency"),rules:[{required:!0}]},React.createElement(j.A,null)))),React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"rate",label:(0,l.__)("Rate","x-currency"),rules:[{required:!0}]},React.createElement(j.A,{disabled:x}))),React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"rate_type",label:(0,l.__)("Rate Type","x-currency"),rules:[{required:!0}]},React.createElement(P.A,{disabled:x},React.createElement(P.A.Option,{value:"fixed"},(0,l.__)("Fixed","x-currency")),React.createElement(P.A.Option,{value:"auto"},(0,l.__)("Auto Update","x-currency")))))),React.createElement(S.A.Item,{name:"symbol_position",label:(0,l.__)("Symbol Position","x-currency"),rules:[{required:!0}]},React.createElement(P.A,null,React.createElement(P.A.Option,{value:"left"},(0,l.__)("Left","x-currency")),React.createElement(P.A.Option,{value:"right"},(0,l.__)("Right","x-currency")),React.createElement(P.A.Option,{value:"left_space"},(0,l.__)("Left with space","x-currency")),React.createElement(P.A.Option,{value:"right_space"},(0,l.__)("Right with space","x-currency")))),React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"extra_fee",label:(0,l.__)("Extra Fee","x-currency"),rules:[{required:!0}]},React.createElement(j.A,{disabled:x}))),React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"extra_fee_type",label:(0,l.__)("Extra Fee Type","x-currency"),rules:[{required:!0}]},React.createElement(P.A,{disabled:x},React.createElement(P.A.Option,{value:"fixed"},(0,l.__)("Fixed","x-currency")),React.createElement(P.A.Option,{value:"percent"},(0,l.__)("Percent","x-currency")))))),React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"thousand_separator",label:(0,l.__)("Thousand Separator","x-currency"),rules:[{required:!0}]},React.createElement(j.A,null))),React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"decimal_separator",label:(0,l.__)("Decimal Separator","x-currency"),rules:[{required:!0}]},React.createElement(j.A,null)))),React.createElement(S.A.Item,{name:"max_decimal",label:(0,l.__)("Maximum Decimal","x-currency"),rules:[{required:!0}]},React.createElement(P.A,{options:B})),React.createElement(S.A.Item,{name:"rounding",label:(0,l.__)("Rounding","x-currency"),rules:[{required:!0}]},React.createElement(P.A,null,React.createElement(P.A.Option,{value:"disabled"},(0,l.__)("Disabled","x-currency")),React.createElement(P.A.Option,{value:"up"},(0,l.__)("Up","x-currency")),React.createElement(P.A.Option,{value:"down"},(0,l.__)("Down","x-currency")),React.createElement(P.A.Option,{value:"nearest"},(0,l.__)("Nearest","x-currency")))),React.createElement(S.A.Item,{label:(0,l.__)("Disable Payment Gateways for This Currency","x-currency"),name:"disable_payment_gateways"},React.createElement(P.A,{mode:"multiple",placeholder:(0,l.__)("Select payment gateways","x-currency"),loading:b,options:m})))};var L=r(6333),$=r(802),z=r(4812),V=r(6446);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(r),!0).forEach((function(e){H(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function H(t,e,r){return(e=function(t){var e=function(t){if("object"!=q(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==q(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J(t){var e=t.lists,r=t.onClick,n=function(t){var n=t.index,o=t.style,a=e[n];return React.createElement("div",{onClick:function(){return r(a)},style:X(X({},o),{},{display:"flex",alignItems:"center",padding:"16px",cursor:"pointer",backgroundColor:"#fff",transition:"background-color 0.3s"}),onMouseEnter:function(t){return t.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:function(t){return t.currentTarget.style.backgroundColor="#fff"}},React.createElement(k.A,{src:"".concat(x_currency.asset_url,"/images/flags/").concat(x_currency.countries_code[a.code],".png")}),React.createElement("div",{style:{marginLeft:"16px"}},React.createElement("div",{style:{marginBottom:"8px"}},React.createElement("span",{dangerouslySetInnerHTML:{__html:a.name}}),React.createElement($.A,{style:{marginLeft:"8px"}},a.code)),React.createElement("div",null,(0,l.__)("Symbol:","x-currency")," ",React.createElement($.A,{color:"blue"},React.createElement("span",{dangerouslySetInnerHTML:{__html:a.symbol}})),(0,l.__)("Rate:","x-currency")," ",React.createElement($.A,{color:"blue"},a.rate))))};return React.createElement(V.Ay,null,(function(t){var r=t.height,o=t.width;return React.createElement(z.Y1,{height:r,itemCount:e.length,itemSize:80,width:o},n)}))}function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function W(){var t=K((0,y.useState)(!1),2),e=t[0],r=t[1],n=K((0,y.useState)(""),2),o=n[0],a=n[1],i=(0,h.useSelect)((function(t){return t(m.A.CURRENCIES).getPreMadeList()}),[]),c=(0,y.useCallback)((function(t){return r(t)}),[]);(0,y.useEffect)((function(){var t="x-currency-show-currency-auto-filler";return(0,p.addAction)(t,"x-currency",c),function(){return(0,p.removeAction)(t,"x-currency",c)}}),[c]);var u=(0,y.useMemo)((function(){return i.filter((function(t){return t.name.toLowerCase().includes(o.toLowerCase())||t.code.toLowerCase().includes(o.toLowerCase())}))}),[i,o]);return React.createElement(A,{open:e,onClose:function(){return r(!1)},title:(0,l.__)("Premade Currencies","x-currency"),width:450},React.createElement(O,null,React.createElement(j.A.Search,{placeholder:(0,l.__)("Search by Currency Name or Code...","x-currency"),size:"large",value:o,onChange:function(t){return a(t.target.value)},style:{color:"#333"}})),React.createElement("div",{style:{paddingTop:"70px",height:"100%"}},React.createElement(J,{lists:u,onClick:function(t){(0,p.doAction)("x-currency-update-currency-create-form-values",t),r(!1),a("")}})))}function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function tt(){tt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,o){var a=r&&r.prototype instanceof h?r:h,i=Object.create(a.prototype);return u(i,"_invoke",function(e,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=x(c,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var l=s(e,r,n);if("normal"===l.type){if(o=n.done?4:2,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=4,n.method="throw",n.arg=l.arg)}}}(e,n,new R(o||[])),!0),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f={};function h(){}function y(){}function p(){}var m={};u(m,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(A([])));v&&v!==r&&n.call(v,a)&&(m=v);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Z(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var o;u(this,"_invoke",(function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(e,r){var n=r.method,o=e.i[n];if(o===t)return r.delegate=null,"throw"===n&&e.i.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(o,e.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[e.r]=i.value,r.next=e.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function E(t){this.tryEntries.push(t)}function _(e){var r=e[4]||{};r.type="normal",r.arg=t,e[4]=r}function R(t){this.tryEntries=[[-1]],t.forEach(E,this),this.reset(!0)}function A(e){if(null!=e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Z(e)+" is not iterable")}return y.prototype=p,u(g,"constructor",p),u(p,"constructor",y),u(p,c,y.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},e.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t){i.type="throw",i.arg=e,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],c=this.prev,u=a[1],l=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!l)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=c){if(c<u)return this.method="next",this.arg=t,n(u),!0;if(c<l)return n(l),!1}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[2]===t)return this.complete(r[4],r[3]),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[0]===t){var n=r[4];if("throw"===n.type){var o=n.arg;_(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={i:A(e),r,n},"next"===this.method&&(this.arg=t),f}},e}function et(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(r),!0).forEach((function(e){ot(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ot(t,e,r){return(e=function(t){var e=function(t){if("object"!=Z(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Z(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function at(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return it(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ct=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value};const ut=function(){var t=at((0,y.useState)(!1),2),e=t[0],r=t[1],n=at((0,y.useState)({}),2),o=n[0],a=n[1],i=at((0,y.useState)(!1),2),c=i[0],u=i[1],s=at(S.A.useForm(),1)[0],f=at((0,y.useState)(!1),2),v=f[0],b=f[1],w=function(){r(!1),s.resetFields()},x=(0,y.useCallback)((function(t){var e=nt(nt({},t),{},{name:ct(t.name),symbol:ct(t.symbol)});s.setFieldsValue(e),a(e)}),[s]);(0,y.useEffect)((function(){return(0,p.addAction)("x-currency-show-currency-drawer","x-currency",r),(0,p.addAction)("x-currency-update-currency-create-form-values","x-currency",x),function(){(0,p.removeAction)("x-currency-show-currency-drawer","x-currency",r),(0,p.removeAction)("x-currency-update-currency-create-form-values","x-currency",x)}}),[x]);var E=function(){var t,e=(t=tt().mark((function t(){var e,r,n;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,h.dispatch)(m.A.CURRENCIES),r=e.createNewCurrency,u(!0),t.prev=2,t.next=5,s.validateFields();case 5:return t.next=7,r(s.getFieldsValue());case 7:n=t.sent,L.Ay.success(n.message),w(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),L.Ay.error(t.t0.message),console.error("Submission failed:",t.t0);case 16:return t.prev=16,u(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,12,16,19]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){et(a,n,o,i,c,"next",t)}function c(t){et(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return React.createElement(A,{title:(0,l.__)("New Currency","x-currency"),placement:"right",width:500,onClose:w,open:e,extra:React.createElement(d.Ay,{onClick:function(){(0,p.doAction)("x-currency-show-currency-auto-filler",!0)},icon:React.createElement(g.A,null),type:"default"},(0,l.__)("Auto Fill","x-currency")),footer:React.createElement(d.Ay,{type:"primary",size:"large",onClick:E,loading:c},(0,l.__)("Create New Currency","x-currency"))},React.createElement(M,{values:o,setValues:a,form:s,initialValues:{rounding:"disabled",disable_payment_gateways:[]},openDrawer:e,disabled:c,flagUrl:v,setFlagUrl:b}),React.createElement(W,null))};var lt=r(3939);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(r),!0).forEach((function(e){yt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yt(t,e,r){return(e=function(t){var e=function(t){if("object"!=st(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pt(){pt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,o){var a=r&&r.prototype instanceof h?r:h,i=Object.create(a.prototype);return u(i,"_invoke",function(e,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=x(c,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var l=s(e,r,n);if("normal"===l.type){if(o=n.done?4:2,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=4,n.method="throw",n.arg=l.arg)}}}(e,n,new R(o||[])),!0),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f={};function h(){}function y(){}function p(){}var m={};u(m,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(A([])));v&&v!==r&&n.call(v,a)&&(m=v);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==st(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var o;u(this,"_invoke",(function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(e,r){var n=r.method,o=e.i[n];if(o===t)return r.delegate=null,"throw"===n&&e.i.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(o,e.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[e.r]=i.value,r.next=e.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function E(t){this.tryEntries.push(t)}function _(e){var r=e[4]||{};r.type="normal",r.arg=t,e[4]=r}function R(t){this.tryEntries=[[-1]],t.forEach(E,this),this.reset(!0)}function A(e){if(null!=e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(st(e)+" is not iterable")}return y.prototype=p,u(g,"constructor",p),u(p,"constructor",y),u(p,c,y.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},e.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t){i.type="throw",i.arg=e,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],c=this.prev,u=a[1],l=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!l)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=c){if(c<u)return this.method="next",this.arg=t,n(u),!0;if(c<l)return n(l),!1}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[2]===t)return this.complete(r[4],r[3]),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[0]===t){var n=r[4];if("throw"===n.type){var o=n.arg;_(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={i:A(e),r,n},"next"===this.method&&(this.arg=t),f}},e}function mt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function dt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){mt(a,n,o,i,c,"next",t)}function c(t){mt(a,n,o,i,c,"throw",t)}i(void 0)}))}}function vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}const bt=function(){var t=vt((0,y.useState)({}),2),e=t[0],r=t[1],n=vt((0,y.useState)(!1),2),o=n[0],a=n[1],i=vt((0,y.useState)(!1),2),c=i[0],u=i[1],s=vt((0,y.useState)(!1),2),f=s[0],v=s[1],g=vt(S.A.useForm(),1)[0],b=vt((0,y.useState)(null),2),w=b[0],x=b[1],E=vt((0,y.useState)(!1),2),_=E[0],R=E[1],O=(0,h.dispatch)(m.A.CURRENCIES),j=function(){a(!1),x(null),g.resetFields()},k=function(t,e){a(t),x(e)};(0,y.useEffect)((function(){var t=function(){var t=dt(pt().mark((function t(){var e,n;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.prev=1,t.next=4,C()({path:"x-currency/admin/currencies/".concat(w)});case 4:e=t.sent,n=e.currency,r(n),R(n.flag_url.length>0&&n.flag_url),g.setFieldsValue(n),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.error("Error fetching currency:",t.t0),L.Ay.error((0,l.__)("Failed to load currency details","x-currency"));case 15:return t.prev=15,u(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,11,15,18]])})));return function(){return t.apply(this,arguments)}}();w&&t()}),[w,g]),(0,y.useEffect)((function(){var t="x-currency-show-currency-update-drawer";return(0,p.addAction)(t,"x-currency",k),function(){return(0,p.removeAction)(t,"x-currency",k)}}),[]);var P=function(){var t=dt(pt().mark((function t(){var e,r;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.prev=1,t.next=4,g.validateFields();case 4:return e=ht(ht({},g.getFieldsValue()),{},{id:w}),t.next=7,O.updateCurrencyById(e);case 7:r=t.sent,L.Ay.success(r.message),j(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),L.Ay.error(t.t0.message),console.error("Submission failed:",t.t0);case 16:return t.prev=16,v(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,12,16,19]])})));return function(){return t.apply(this,arguments)}}(),F=x_currency.base_currency_id===w;return React.createElement(A,{title:React.createElement(React.Fragment,null,(0,l.__)("Update Currency","x-currency")," ",F&&React.createElement($.A,{bordered:!1,color:"green"},(0,l.__)("Base Currency","x-currency"))),placement:"right",width:500,onClose:j,open:o,footer:React.createElement(d.Ay,{type:"primary",size:"large",onClick:P,loading:f},(0,l.__)("Update Currency","x-currency"))},React.createElement(lt.A,{spinning:c,tip:(0,l.__)("Loading...","x-currency")},React.createElement(M,{values:e,setValues:r,form:g,initialValues:{rounding:"disabled",disable_payment_gateways:[]},openDrawer:o,disabled:f,isBaseCurrency:F,flagUrl:_,setFlagUrl:R})))};var wt=r(2725),xt=r(4818);function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function _t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Rt(){Rt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,o){var a=r&&r.prototype instanceof h?r:h,i=Object.create(a.prototype);return u(i,"_invoke",function(e,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=x(c,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var l=s(e,r,n);if("normal"===l.type){if(o=n.done?4:2,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=4,n.method="throw",n.arg=l.arg)}}}(e,n,new R(o||[])),!0),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f={};function h(){}function y(){}function p(){}var m={};u(m,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(A([])));v&&v!==r&&n.call(v,a)&&(m=v);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Et(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var o;u(this,"_invoke",(function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(e,r){var n=r.method,o=e.i[n];if(o===t)return r.delegate=null,"throw"===n&&e.i.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(o,e.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[e.r]=i.value,r.next=e.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function E(t){this.tryEntries.push(t)}function _(e){var r=e[4]||{};r.type="normal",r.arg=t,e[4]=r}function R(t){this.tryEntries=[[-1]],t.forEach(E,this),this.reset(!0)}function A(e){if(null!=e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Et(e)+" is not iterable")}return y.prototype=p,u(g,"constructor",p),u(p,"constructor",y),u(p,c,y.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},e.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t){i.type="throw",i.arg=e,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],c=this.prev,u=a[1],l=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!l)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=c){if(c<u)return this.method="next",this.arg=t,n(u),!0;if(c<l)return n(l),!1}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[2]===t)return this.complete(r[4],r[3]),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[0]===t){var n=r[4];if("throw"===n.type){var o=n.arg;_(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={i:A(e),r,n},"next"===this.method&&(this.arg=t),f}},e}function At(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Ot(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){At(a,n,o,i,c,"next",t)}function c(t){At(a,n,o,i,c,"throw",t)}i(void 0)}))}}var St=function(){var t=Ot(Rt().mark((function t(e){var r,n,o;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,h.dispatch)(m.A.CURRENCIES),n=r.exchangeCurrencyRate,t.prev=1,t.next=4,n(e);case 4:o=t.sent,L.Ay.success(o.message),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),L.Ay.error(t.t0.message),(0,h.dispatch)(m.A.CURRENCIES).setIsExchangingCurrencyRate(e,!1);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(_x){return t.apply(this,arguments)}}();function jt(){var t,e,r,n=(e=(0,y.useState)(!1),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,r)||function(t,e){if(t){if("string"==typeof t)return _t(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_t(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=(0,(0,h.select)(m.A.CURRENCIES).getCurrencies)().find((function(t){return t.id===x_currency.base_currency_id})),c=function(){var t=Ot(Rt().mark((function t(){var e,r,n;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),e=(0,h.dispatch)(m.A.CURRENCIES),r=e.exchangeAllCurrenciesRate,t.prev=2,t.next=5,r();case 5:n=t.sent,L.Ay.success(n.message),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),L.Ay.error(t.t0.message),(0,h.dispatch)(m.A.CURRENCIES).setIsExchangingCurrencyRate(0,!1);case 14:a(!1);case 15:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}();return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,(0,l.sprintf)((0,l.__)("Rate (1 %s = ?)","x-currency"),null!==(t=null==i?void 0:i.code)&&void 0!==t?t:"")),React.createElement(u.FlexItem,null,React.createElement(d.Ay,{icon:React.createElement(xt.A,{spin:o}),disabled:o,onClick:c})))}var kt=r(4373);function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function Ft(){Ft=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,o){var a=r&&r.prototype instanceof h?r:h,i=Object.create(a.prototype);return u(i,"_invoke",function(e,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=x(c,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var l=s(e,r,n);if("normal"===l.type){if(o=n.done?4:2,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=4,n.method="throw",n.arg=l.arg)}}}(e,n,new R(o||[])),!0),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f={};function h(){}function y(){}function p(){}var m={};u(m,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(A([])));v&&v!==r&&n.call(v,a)&&(m=v);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Pt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var o;u(this,"_invoke",(function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(e,r){var n=r.method,o=e.i[n];if(o===t)return r.delegate=null,"throw"===n&&e.i.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(o,e.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[e.r]=i.value,r.next=e.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function E(t){this.tryEntries.push(t)}function _(e){var r=e[4]||{};r.type="normal",r.arg=t,e[4]=r}function R(t){this.tryEntries=[[-1]],t.forEach(E,this),this.reset(!0)}function A(e){if(null!=e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Pt(e)+" is not iterable")}return y.prototype=p,u(g,"constructor",p),u(p,"constructor",y),u(p,c,y.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},e.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t){i.type="throw",i.arg=e,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],c=this.prev,u=a[1],l=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!l)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=c){if(c<u)return this.method="next",this.arg=t,n(u),!0;if(c<l)return n(l),!1}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[2]===t)return this.complete(r[4],r[3]),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[0]===t){var n=r[4];if("throw"===n.type){var o=n.arg;_(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={i:A(e),r,n},"next"===this.method&&(this.arg=t),f}},e}function Ct(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var It=function(){var t,e=(t=Ft().mark((function t(e,r){var n,o,a;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,h.dispatch)(m.A.CURRENCIES),o=n.switchCurrencyStatusById,t.prev=1,t.next=4,o(e,r);case 4:a=t.sent,L.Ay.success(a.message),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),L.Ay.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Ct(a,n,o,i,c,"next",t)}function c(t){Ct(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(_x,t){return e.apply(this,arguments)}}(),Nt=r(9110),Tt=r(5896),Gt=r(140);function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function Dt(){Dt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,o){var a=r&&r.prototype instanceof h?r:h,i=Object.create(a.prototype);return u(i,"_invoke",function(e,r,n){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=x(c,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===o)throw o=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=3;var l=s(e,r,n);if("normal"===l.type){if(o=n.done?4:2,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=4,n.method="throw",n.arg=l.arg)}}}(e,n,new R(o||[])),!0),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f={};function h(){}function y(){}function p(){}var m={};u(m,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(A([])));v&&v!==r&&n.call(v,a)&&(m=v);var g=p.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Ut(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var o;u(this,"_invoke",(function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(e,r){var n=r.method,o=e.i[n];if(o===t)return r.delegate=null,"throw"===n&&e.i.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=s(o,e.i,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[e.r]=i.value,r.next=e.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function E(t){this.tryEntries.push(t)}function _(e){var r=e[4]||{};r.type="normal",r.arg=t,e[4]=r}function R(t){this.tryEntries=[[-1]],t.forEach(E,this),this.reset(!0)}function A(e){if(null!=e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ut(e)+" is not iterable")}return y.prototype=p,u(g,"constructor",p),u(p,"constructor",y),u(p,c,y.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},e.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t){i.type="throw",i.arg=e,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],c=this.prev,u=a[1],l=a[2];if(-1===a[0])return n("end"),!1;if(!u&&!l)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=c){if(c<u)return this.method="next",this.arg=t,n(u),!0;if(c<l)return n(l),!1}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var o=n;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[2]===t)return this.complete(r[4],r[3]),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[0]===t){var n=r[4];if("throw"===n.type){var o=n.arg;_(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={i:A(e),r,n},"next"===this.method&&(this.arg=t),f}},e}function Bt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var Mt=function(){var t,e=(t=Dt().mark((function t(e){var r,n,o;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,h.dispatch)(m.A.CURRENCIES),n=r.deleteSingleCurrency,t.prev=1,t.next=4,n(e);case 4:o=t.sent,L.Ay.success(o.message),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),L.Ay.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Bt(a,n,o,i,c,"next",t)}function c(t){Bt(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(_x){return e.apply(this,arguments)}}();const Lt=[{title:(0,l.__)("Name","x-currency"),dataIndex:"name",key:"name",render:function(t,e){var r=x_currency.base_currency_id===e.id;return React.createElement(_,null,React.createElement(u.FlexItem,{className:"flag"},React.createElement("img",{src:e.flag_url.length>0?e.flag_url:"".concat(x_currency.asset_url,"/images/flags/").concat(x_currency.countries_code[e.code],".png"),alt:(0,l.sprintf)((0,l.__)("Flag of %s","x-currency"),t)})),React.createElement(u.FlexBlock,{className:"information"},React.createElement("span",{className:"top"},React.createElement("span",{className:"name"},t),React.createElement($.A,{bordered:!1,color:"processing"},e.code),r&&React.createElement($.A,{bordered:!1,color:"green"},(0,l.__)("Base Currency","x-currency"))),React.createElement("span",{className:"bottom"},(0,l.__)("Last update - Mar 18, 2024 10:00AM","x-currency"))))}},{title:function(){return React.createElement(jt,null)},dataIndex:"rate",key:"rate",align:"right",render:function(t,e){var r=x_currency.base_currency_id===e.id;return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,(0,l.sprintf)((0,wt.X)(e.symbol_position),e.symbol,t)),React.createElement(u.FlexItem,null,React.createElement(d.Ay,{icon:React.createElement(xt.A,{spin:!r&&e.isUpdatingRate}),disabled:r||e.isUpdatingRate,onClick:function(){return St(e.id)}})))}},{title:(0,l.__)("Extra Fee","x-currency"),dataIndex:"extra_fee",key:"extra_fee",align:"right",render:function(t,e){return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,sprintf((0,wt.X)(e.symbol_position),e.symbol,t)),React.createElement(u.FlexItem,null,React.createElement($.A,{bordered:!1,color:"gold",style:{textTransform:"capitalize"}},e.extra_fee_type)))}},{title:(0,l.__)("Rounding","x-currency"),dataIndex:"rounding",key:"rounding",align:"right",render:function(t){return React.createElement("span",{style:{textTransform:"capitalize"}},t)}},{title:(0,l.__)("Status","x-currency"),dataIndex:"active",key:"active",align:"right",render:function(t,e){var r=x_currency.base_currency_id===e.id;return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,(0,l.__)("Active","x-currency")),React.createElement(u.FlexItem,null,React.createElement(kt.A,{checked:t,disabled:r,loading:e.isUpdatingStatus,onClick:function(){return It(e.id,t)}})))}},{title:(0,l.__)("Action","x-currency"),dataIndex:"id",key:"action",align:"right",render:function(t){var e=x_currency.base_currency_id===t;return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(d.Ay,{icon:React.createElement(Tt.A,null),onClick:function(){return function(t){(0,p.doAction)("x-currency-show-currency-update-drawer",!0,t)}(t)}},(0,l.__)("Edit","x-currency"))),React.createElement(u.FlexItem,null,React.createElement(Nt.A,{placement:"bottomRight",title:(0,l.__)("Are you sure to delete this currency?","x-currency"),okText:(0,l.__)("Yes","x-currency"),cancelText:(0,l.__)("No","x-currency"),onConfirm:function(){return Mt(t)},disabled:e},React.createElement(d.Ay,{type:"primary",icon:React.createElement(Gt.A,null),disabled:e,danger:!0}))))}}];var $t=r(5546),zt=r(7792),Vt=r(7313),qt=r(905),Yt=r(7893);function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(r),!0).forEach((function(e){Kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kt(t,e,r){return(e=function(t){var e=function(t){if("object"!=Xt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qt(){return Qt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qt.apply(null,arguments)}var Wt=(0,y.createContext)({}),Zt=function(){var t=(0,y.useContext)(Wt),e=t.setActivatorNodeRef,r=t.listeners;return React.createElement(d.Ay,Qt({type:"text",size:"small",icon:React.createElement($t.A,null),style:{cursor:"move"},ref:e},r))},te=function(t){var e=(0,qt.gl)({id:t["data-row-key"]}),r=e.attributes,n=e.listeners,o=e.setNodeRef,a=e.setActivatorNodeRef,i=e.transform,c=e.transition,u=e.isDragging,l=Jt(Jt({},t.style),{},{transform:Yt.Ks.Translate.toString(i),transition:c},u?{position:"relative",zIndex:9999}:{}),s=(0,y.useMemo)((function(){return{setActivatorNodeRef:a,listeners:n}}),[a,n]);return React.createElement(Wt.Provider,{value:s},React.createElement("tr",Qt({},t,{ref:o,style:l},r)))};function ee(t){var e=t.children,r=t.currencies,n=t.sortCurrencies,o=(0,y.useCallback)((function(t){var e=t.active,o=t.over;if(o&&e.id!==o.id){var a=r.findIndex((function(t){return t.id===e.id})),i=r.findIndex((function(t){return t.id===o.id})),c=(0,qt.be)(r,a,i);n(c)}}),[r,n]);return React.createElement(zt.Mp,{modifiers:[Vt.FN],onDragEnd:o},React.createElement(qt.gB,{items:r.map((function(t){return t.id})),strategy:qt._G},e))}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ne=function(){(0,p.doAction)("x-currency-show-currency-drawer",!0)},oe=(0,h.withSelect)((function(t){var e=t(m.A.CURRENCIES),r=e.getCurrencies,n=e.isLoading;return{currencies:r(),isLoading:n()}})),ae=(0,h.withDispatch)((function(t){return{sortCurrencies:t(m.A.CURRENCIES).sortCurrencies}})),ie=(0,f.compose)([oe,ae])((function(t){var e,r=t.currencies,n=t.isLoading,o=t.sortCurrencies,a=(0,wt.$)();return React.createElement(R,{title:(0,l.__)("Currencies","x-currency"),extra:React.createElement(u.Flex,null,!a&&React.createElement(y.Fragment,null,React.createElement(u.FlexItem,null,(0,l.sprintf)((0,l.__)("You have used %d/3 free currency","x-currency"),r.length)),React.createElement(u.FlexItem,null,React.createElement(d.Ay,{variant:"outlined",color:"primary",href:"https://doatkolom.com/x-currency",target:"_blank"},(0,l.__)("Upgrade","x-currency")))),React.createElement(u.FlexBlock,null,React.createElement(d.Ay,{type:"primary",icon:React.createElement(g.A,null),onClick:ne,disabled:!a&&r.length>=3||0===r.length},(0,l.__)("Add New Currency","x-currency"))))},React.createElement(ee,{currencies:r,sortCurrencies:o},React.createElement(v.A,{rowKey:"id",components:{body:{row:te}},dataSource:r,columns:[{key:"sort",align:"center",render:function(){return React.createElement(Zt,null)}}].concat((e=Lt,function(t){if(Array.isArray(t))return re(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return re(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),currencies:r,loading:n,pagination:!1})),React.createElement(ut,null),React.createElement(bt,null))}));const ce=(0,y.memo)(ie);var ue=r(5916);function le(){return React.createElement(c.A,{key:"currencies"},React.createElement(u.Fill,{name:s.A.PRIMARY_HEADER_NAME},(0,l.__)("Currencies","x-currency")),!(0,wt.$)()&&React.createElement(ue.A,{message:(0,l.__)("🎉 Get X-Currency Pro for Free!","x-currency"),description:React.createElement(React.Fragment,null,(0,l.__)("You’re currently using the free version of X-Currency. Join our Facebook community to receive the Pro version absolutely free — exclusively for our community members!","x-currency")," ",React.createElement("a",{href:"https://www.facebook.com/groups/doatkolom",target:"_blank",rel:"noopener noreferrer"},(0,l.__)("Join Now","x-currency"))),type:"info",showIcon:!0,style:{marginBottom:20}}),React.createElement(ce,null))}}}]);