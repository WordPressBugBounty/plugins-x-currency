"use strict";(globalThis.webpackChunkx_currency=globalThis.webpackChunkx_currency||[]).push([[999],{2725:(e,t,r)=>{function n(e){switch(e){case"right":return"%2$s%1$s";case"left_space":return"%1$sÂ %2$s";case"right_space":return"%2$sÂ %1$s";default:return"%1$s%2$s"}}r.d(t,{$:()=>o,X:()=>n});var c=r(2619);function o(){return(0,c.applyFilters)("x-currency-pro-status",!1)}},6999:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ft});var n,c,o,a,i=r(6283),u=r(6427),l=r(7723),s=r(590),f=r(9491),y=r(7143),m=r(6087),p=r(2619),d=r(1995),v=r(6944),b=r(1234),g=r(2448),h=r(4008),_=r(3337),E=r(397);function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var R=(0,E.A)(u.Flex)(n||(n=x(["\n\tgap: 12px;\n\n\t.flag img {\n\t\twidth: 45px;\n\t\tborder-radius: 5px;\n\t}\n\n\t.information {\n\t\t.top {\n\t\t\tdisplay: flex;\n\t\t\tgap: 6px;\n\t\t\tmargin-bottom: 4px;\n\n\t\t\t.name {\n\t\t\t\tcolor: var( --Dark-01, #252525 );\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tfont-family: Inter;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tfont-style: normal;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tline-height: 22px;\n\t\t\t}\n\t\t}\n\n\t\t.bottom {\n\t\t\tdisplay: block;\n\t\t\tcolor: var( --Dark-03, #656565 );\n\t\t\tfont-family: Inter;\n\t\t\tfont-size: 14px;\n\t\t\tfont-style: normal;\n\t\t\tfont-weight: 400;\n\t\t\tline-height: 20px;\n\t\t}\n\t}\n"]))),w=(0,E.A)(h.A)(c||(c=x(["\n\tmax-width: 1400px;\n\tmargin: auto !important;\n"]))),A=(0,E.A)(_.A)(o||(o=x(["\n\tpadding-top: 32px;\n\t.ant-drawer-body {\n\t\tposition: relative;\n\t}\n\t.ant-drawer-footer {\n\t\tpadding-top: 16px;\n\t\tpadding-bottom: 16px;\n\t}\n"]))),O=E.A.div(a||(a=x(["\n\twidth: 100%;\n\tbackground: #fafafa;\n\tpadding: 24px;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n"]))),S=r(1950),j=r(4129),C=r(9658),k=r(534),P=r(1455),F=r.n(P),I=r(5365);function T(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.toStringTag||"@@toStringTag";function o(r,n,c,o){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return N(l,"_invoke",function(r,n,c){var o,i,u,l=0,s=c||[],f=!1,y={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return o=t,i=0,u=e,y.n=r,a}};function m(r,n){for(i=r,u=n,t=0;!f&&l&&!c&&t<s.length;t++){var c,o=s[t],m=y.p,p=o[2];r>3?(c=p===n)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((c=r<2&&m<o[1])?(i=0,y.v=n,y.n=o[1]):m<p&&(c=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,y.n=p,i=0))}if(c||r>1)return a;throw f=!0,n}return function(c,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),i=s,u=p;(t=i<2?e:u)||!f;){o||(i?i<3?(i>1&&(y.n=-1),m(i,u)):y.n=u:y.v=u);try{if(l=2,o){if(i||(c="next"),t=o[c]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+c+"' method"),i=1);o=e}else if((t=(f=y.n<0)?u:r.call(n,y))!==a)break}catch(t){o=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,c,o),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(N(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,N(e,c,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,N(f,"constructor",l),N(l,"constructor",u),u.displayName="GeneratorFunction",N(l,c,"GeneratorFunction"),N(f),N(f,c,"Generator"),N(f,n,function(){return this}),N(f,"toString",function(){return"[object Generator]"}),(T=function(){return{w:o,m:y}})()}function N(e,t,r,n){var c=Object.defineProperty;try{c({},"",{})}catch(e){c=0}N=function(e,t,r,n){if(t)c?c(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){N(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},N(e,t,r,n)}function G(e,t,r,n,c,o,a){try{var i=e[o](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,c)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,c,o,a,i=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){l=!0,c=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw c}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var B=Array.from({length:13},function(e,t){return{value:t,label:t}});const L=function(e){var t=e.form,r=e.initialValues,n=e.disabled,c=e.isBaseCurrency,o=void 0!==c&&c,a=e.values,i=e.setValues,s=e.openDrawer,f=e.flagUrl,y=e.setFlagUrl,p=U((0,m.useState)([]),2),d=p[0],b=p[1],g=U((0,m.useState)(!0),2),h=g[0],_=g[1];(0,m.useEffect)(function(){var e=function(){var e,t=(e=T().m(function e(){var t,r;return T().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,F()({path:"x-currency/admin/payment-gateways"});case 1:t=e.v,b(t.data),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to fetch payment gateways:",r);case 3:return e.p=3,_(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}),function(){var t=this,r=arguments;return new Promise(function(n,c){var o=e.apply(t,r);function a(e){G(o,n,c,a,i,"next",e)}function i(e){G(o,n,c,a,i,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}();e()},[]),(0,m.useEffect)(function(){R(),i({})},[s]);var E=o||n,x=(0,m.useRef)(null),R=function(){y(!1),t.setFieldsValue({flag:!1})},w=x_currency.countries_code[a.code];return React.createElement(S.A,{form:t,name:"validateOnly",layout:"vertical",autoComplete:"off",size:"large",initialValues:r,disabled:n,onValuesChange:function(e,t){i(t)}},React.createElement(S.A.Item,{name:"name",label:(0,l.__)("Name","x-currency"),rules:[{required:!0}]},React.createElement(j.A,null)),React.createElement(S.A.Item,{name:"flag",hidden:!0},React.createElement(j.A,null)),React.createElement(S.A.Item,{name:"media",label:(0,l.__)("Flag","x-currency")},React.createElement(u.Flex,null,React.createElement(u.FlexItem,null,React.createElement(C.A,{src:f||"".concat(x_currency.asset_url,"/images/flags/").concat(w,".png")})),React.createElement(u.FlexBlock,null,React.createElement(v.Ay,{onClick:function(){x.current||(x.current=wp.media({title:(0,l.__)("Select or Upload Media","x-currency"),button:{text:(0,l.__)("Use this media","x-currency")},multiple:!1}),x.current.on("select",function(){var e=x.current.state().get("selection").first().toJSON();t.setFieldsValue({flag:e.id}),y(e.url)})),x.current.open()},icon:React.createElement(I.A,null),size:"middle"},w?(0,l.__)("Replace","x-currency"):(0,l.__)("Upload","x-currency")),f&&React.createElement(v.Ay,{style:{marginLeft:10},onClick:R,size:"middle"},(0,l.__)("Reset","x-currency"))))),React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"code",label:(0,l.__)("Code","x-currency"),rules:[{required:!0}]},React.createElement(j.A,{disabled:E}))),React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"symbol",label:(0,l.__)("Symbol","x-currency"),rules:[{required:!0}]},React.createElement(j.A,null)))),React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"rate",label:(0,l.__)("Rate","x-currency"),rules:[{required:!0}]},React.createElement(j.A,{disabled:E}))),React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"rate_type",label:(0,l.__)("Rate Type","x-currency"),rules:[{required:!0}]},React.createElement(k.A,{disabled:E},React.createElement(k.A.Option,{value:"fixed"},(0,l.__)("Fixed","x-currency")),React.createElement(k.A.Option,{value:"auto"},(0,l.__)("Auto Update","x-currency")))))),React.createElement(S.A.Item,{name:"symbol_position",label:(0,l.__)("Symbol Position","x-currency"),rules:[{required:!0}]},React.createElement(k.A,null,React.createElement(k.A.Option,{value:"left"},(0,l.__)("Left","x-currency")),React.createElement(k.A.Option,{value:"right"},(0,l.__)("Right","x-currency")),React.createElement(k.A.Option,{value:"left_space"},(0,l.__)("Left with space","x-currency")),React.createElement(k.A.Option,{value:"right_space"},(0,l.__)("Right with space","x-currency")))),React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"extra_fee",label:(0,l.__)("Extra Fee","x-currency"),rules:[{required:!0}]},React.createElement(j.A,{disabled:E}))),React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"extra_fee_type",label:(0,l.__)("Extra Fee Type","x-currency"),rules:[{required:!0}]},React.createElement(k.A,{disabled:E},React.createElement(k.A.Option,{value:"fixed"},(0,l.__)("Fixed","x-currency")),React.createElement(k.A.Option,{value:"percent"},(0,l.__)("Percent","x-currency")))))),React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"thousand_separator",label:(0,l.__)("Thousand Separator","x-currency"),rules:[{required:!0}]},React.createElement(j.A,null))),React.createElement(u.FlexBlock,null,React.createElement(S.A.Item,{name:"decimal_separator",label:(0,l.__)("Decimal Separator","x-currency"),rules:[{required:!0}]},React.createElement(j.A,null)))),React.createElement(S.A.Item,{name:"max_decimal",label:(0,l.__)("Maximum Decimal","x-currency"),rules:[{required:!0}]},React.createElement(k.A,{options:B})),React.createElement(S.A.Item,{name:"rounding",label:(0,l.__)("Rounding","x-currency"),rules:[{required:!0}]},React.createElement(k.A,null,React.createElement(k.A.Option,{value:"disabled"},(0,l.__)("Disabled","x-currency")),React.createElement(k.A.Option,{value:"up"},(0,l.__)("Up","x-currency")),React.createElement(k.A.Option,{value:"down"},(0,l.__)("Down","x-currency")),React.createElement(k.A.Option,{value:"nearest"},(0,l.__)("Nearest","x-currency")))),React.createElement(S.A.Item,{label:(0,l.__)("Disable Payment Gateways for This Currency","x-currency"),name:"disable_payment_gateways"},React.createElement(k.A,{mode:"multiple",placeholder:(0,l.__)("Select payment gateways","x-currency"),loading:h,options:d})))};var M=r(6333),$=r(8009),z=r(5987),V=r(6446);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(t){H(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H(e,t,r){return(t=function(e){var t=function(e){if("object"!=q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==q(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e){var t=e.lists,r=e.onClick,n=function(e){var n=e.index,c=e.style,o=t[n];return React.createElement("div",{onClick:function(){return r(o)},style:Y(Y({},c),{},{display:"flex",alignItems:"center",padding:"16px",cursor:"pointer",backgroundColor:"#fff",transition:"background-color 0.3s"}),onMouseEnter:function(e){return e.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:function(e){return e.currentTarget.style.backgroundColor="#fff"}},React.createElement(C.A,{src:"".concat(x_currency.asset_url,"/images/flags/").concat(x_currency.countries_code[o.code],".png")}),React.createElement("div",{style:{marginLeft:"16px"}},React.createElement("div",{style:{marginBottom:"8px"}},React.createElement("span",{dangerouslySetInnerHTML:{__html:o.name}}),React.createElement($.A,{style:{marginLeft:"8px"}},o.code)),React.createElement("div",null,(0,l.__)("Symbol:","x-currency")," ",React.createElement($.A,{color:"blue"},React.createElement("span",{dangerouslySetInnerHTML:{__html:o.symbol}})),(0,l.__)("Rate:","x-currency")," ",React.createElement($.A,{color:"blue"},o.rate))))};return React.createElement(V.Ay,null,function(e){var r=e.height,c=e.width;return React.createElement(z.Y1,{height:r,itemCount:t.length,itemSize:80,width:c},n)})}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,c,o,a,i=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){l=!0,c=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw c}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function W(){var e=K((0,m.useState)(!1),2),t=e[0],r=e[1],n=K((0,m.useState)(""),2),c=n[0],o=n[1],a=(0,y.useSelect)(function(e){return e(d.A.CURRENCIES).getPreMadeList()},[]),i=(0,m.useCallback)(function(e){return r(e)},[]);(0,m.useEffect)(function(){var e="x-currency-show-currency-auto-filler";return(0,p.addAction)(e,"x-currency",i),function(){return(0,p.removeAction)(e,"x-currency",i)}},[i]);var u=(0,m.useMemo)(function(){return a.filter(function(e){return e.name.toLowerCase().includes(c.toLowerCase())||e.code.toLowerCase().includes(c.toLowerCase())})},[a,c]);return React.createElement(A,{open:t,onClose:function(){return r(!1)},title:(0,l.__)("Premade Currencies","x-currency"),width:450},React.createElement(O,null,React.createElement(j.A.Search,{placeholder:(0,l.__)("Search by Currency Name or Code...","x-currency"),size:"large",value:c,onChange:function(e){return o(e.target.value)},style:{color:"#333"}})),React.createElement("div",{style:{paddingTop:"70px",height:"100%"}},React.createElement(J,{lists:u,onClick:function(e){(0,p.doAction)("x-currency-update-currency-create-form-values",e),r(!1),o("")}})))}function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function ee(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.toStringTag||"@@toStringTag";function o(r,n,c,o){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return te(l,"_invoke",function(r,n,c){var o,i,u,l=0,s=c||[],f=!1,y={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return o=t,i=0,u=e,y.n=r,a}};function m(r,n){for(i=r,u=n,t=0;!f&&l&&!c&&t<s.length;t++){var c,o=s[t],m=y.p,p=o[2];r>3?(c=p===n)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((c=r<2&&m<o[1])?(i=0,y.v=n,y.n=o[1]):m<p&&(c=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,y.n=p,i=0))}if(c||r>1)return a;throw f=!0,n}return function(c,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),i=s,u=p;(t=i<2?e:u)||!f;){o||(i?i<3?(i>1&&(y.n=-1),m(i,u)):y.n=u:y.v=u);try{if(l=2,o){if(i||(c="next"),t=o[c]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+c+"' method"),i=1);o=e}else if((t=(f=y.n<0)?u:r.call(n,y))!==a)break}catch(t){o=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,c,o),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(te(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,te(e,c,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,te(f,"constructor",l),te(l,"constructor",u),u.displayName="GeneratorFunction",te(l,c,"GeneratorFunction"),te(f),te(f,c,"Generator"),te(f,n,function(){return this}),te(f,"toString",function(){return"[object Generator]"}),(ee=function(){return{w:o,m:y}})()}function te(e,t,r,n){var c=Object.defineProperty;try{c({},"",{})}catch(e){c=0}te=function(e,t,r,n){if(t)c?c(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){te(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},te(e,t,r,n)}function re(e,t,r,n,c,o,a){try{var i=e[o](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,c)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach(function(t){oe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oe(e,t,r){return(t=function(e){var t=function(e){if("object"!=Z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,c,o,a,i=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){l=!0,c=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw c}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ue=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value};const le=function(){var e=ae((0,m.useState)(!1),2),t=e[0],r=e[1],n=ae((0,m.useState)({}),2),c=n[0],o=n[1],a=ae((0,m.useState)(!1),2),i=a[0],u=a[1],s=ae(S.A.useForm(),1)[0],f=ae((0,m.useState)(!1),2),b=f[0],h=f[1],_=function(){r(!1),s.resetFields()},E=(0,m.useCallback)(function(e){var t=ce(ce({},e),{},{name:ue(e.name),symbol:ue(e.symbol)});s.setFieldsValue(t),o(t)},[s]);(0,m.useEffect)(function(){return(0,p.addAction)("x-currency-show-currency-drawer","x-currency",r),(0,p.addAction)("x-currency-update-currency-create-form-values","x-currency",E),function(){(0,p.removeAction)("x-currency-show-currency-drawer","x-currency",r),(0,p.removeAction)("x-currency-update-currency-create-form-values","x-currency",E)}},[E]);var x=function(){var e,t=(e=ee().m(function e(){var t,r,n,c;return ee().w(function(e){for(;;)switch(e.n){case 0:return t=(0,y.dispatch)(d.A.CURRENCIES),r=t.createNewCurrency,u(!0),e.p=1,e.n=2,s.validateFields();case 2:return e.n=3,r(s.getFieldsValue());case 3:n=e.v,M.Ay.success(n.message),_(),e.n=5;break;case 4:e.p=4,c=e.v,M.Ay.error(c.message),console.error("Submission failed:",c);case 5:return e.p=5,u(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}),function(){var t=this,r=arguments;return new Promise(function(n,c){var o=e.apply(t,r);function a(e){re(o,n,c,a,i,"next",e)}function i(e){re(o,n,c,a,i,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}();return React.createElement(A,{title:(0,l.__)("New Currency","x-currency"),placement:"right",width:500,onClose:_,open:t,extra:React.createElement(v.Ay,{onClick:function(){(0,p.doAction)("x-currency-show-currency-auto-filler",!0)},icon:React.createElement(g.A,null),type:"default"},(0,l.__)("Auto Fill","x-currency")),footer:React.createElement(v.Ay,{type:"primary",size:"large",onClick:x,loading:i},(0,l.__)("Create New Currency","x-currency"))},React.createElement(L,{values:c,setValues:o,form:s,initialValues:{rounding:"disabled",disable_payment_gateways:[]},openDrawer:t,disabled:i,flagUrl:b,setFlagUrl:h}),React.createElement(W,null))};var se=r(2946);function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach(function(t){pe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pe(e,t,r){return(t=function(e){var t=function(e){if("object"!=fe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.toStringTag||"@@toStringTag";function o(r,n,c,o){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return ve(l,"_invoke",function(r,n,c){var o,i,u,l=0,s=c||[],f=!1,y={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return o=t,i=0,u=e,y.n=r,a}};function m(r,n){for(i=r,u=n,t=0;!f&&l&&!c&&t<s.length;t++){var c,o=s[t],m=y.p,p=o[2];r>3?(c=p===n)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((c=r<2&&m<o[1])?(i=0,y.v=n,y.n=o[1]):m<p&&(c=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,y.n=p,i=0))}if(c||r>1)return a;throw f=!0,n}return function(c,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),i=s,u=p;(t=i<2?e:u)||!f;){o||(i?i<3?(i>1&&(y.n=-1),m(i,u)):y.n=u:y.v=u);try{if(l=2,o){if(i||(c="next"),t=o[c]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+c+"' method"),i=1);o=e}else if((t=(f=y.n<0)?u:r.call(n,y))!==a)break}catch(t){o=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,c,o),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(ve(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,ve(e,c,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,ve(f,"constructor",l),ve(l,"constructor",u),u.displayName="GeneratorFunction",ve(l,c,"GeneratorFunction"),ve(f),ve(f,c,"Generator"),ve(f,n,function(){return this}),ve(f,"toString",function(){return"[object Generator]"}),(de=function(){return{w:o,m:y}})()}function ve(e,t,r,n){var c=Object.defineProperty;try{c({},"",{})}catch(e){c=0}ve=function(e,t,r,n){if(t)c?c(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){ve(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},ve(e,t,r,n)}function be(e,t,r,n,c,o,a){try{var i=e[o](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,c)}function ge(e){return function(){var t=this,r=arguments;return new Promise(function(n,c){var o=e.apply(t,r);function a(e){be(o,n,c,a,i,"next",e)}function i(e){be(o,n,c,a,i,"throw",e)}a(void 0)})}}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,c,o,a,i=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){l=!0,c=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw c}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ee=function(){var e=he((0,m.useState)({}),2),t=e[0],r=e[1],n=he((0,m.useState)(!1),2),c=n[0],o=n[1],a=he((0,m.useState)(!1),2),i=a[0],u=a[1],s=he((0,m.useState)(!1),2),f=s[0],b=s[1],g=he(S.A.useForm(),1)[0],h=he((0,m.useState)(null),2),_=h[0],E=h[1],x=he((0,m.useState)(!1),2),R=x[0],w=x[1],O=(0,y.dispatch)(d.A.CURRENCIES),j=function(){o(!1),E(null),g.resetFields()},C=function(e,t){o(e),E(t)};(0,m.useEffect)(function(){var e=function(){var e=ge(de().m(function e(){var t,n,c;return de().w(function(e){for(;;)switch(e.n){case 0:return u(!0),e.p=1,e.n=2,F()({path:"x-currency/admin/currencies/".concat(_)});case 2:t=e.v,n=t.currency,r(n),w(n.flag_url.length>0&&n.flag_url),g.setFieldsValue(n),e.n=4;break;case 3:e.p=3,c=e.v,console.error("Error fetching currency:",c),M.Ay.error((0,l.__)("Failed to load currency details","x-currency"));case 4:return e.p=4,u(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();_&&e()},[_,g]),(0,m.useEffect)(function(){var e="x-currency-show-currency-update-drawer";return(0,p.addAction)(e,"x-currency",C),function(){return(0,p.removeAction)(e,"x-currency",C)}},[]);var k=function(){var e=ge(de().m(function e(){var t,r,n;return de().w(function(e){for(;;)switch(e.n){case 0:return b(!0),e.p=1,e.n=2,g.validateFields();case 2:return t=me(me({},g.getFieldsValue()),{},{id:_}),e.n=3,O.updateCurrencyById(t);case 3:r=e.v,M.Ay.success(r.message),j(),e.n=5;break;case 4:e.p=4,n=e.v,M.Ay.error(n.message),console.error("Submission failed:",n);case 5:return e.p=5,b(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),P=x_currency.base_currency_id===_;return React.createElement(A,{title:React.createElement(React.Fragment,null,(0,l.__)("Update Currency","x-currency")," ",P&&React.createElement($.A,{bordered:!1,color:"green"},(0,l.__)("Base Currency","x-currency"))),placement:"right",width:500,onClose:j,open:c,footer:React.createElement(v.Ay,{type:"primary",size:"large",onClick:k,loading:f},(0,l.__)("Update Currency","x-currency"))},React.createElement(se.A,{spinning:i,tip:(0,l.__)("Loading...","x-currency")},React.createElement(L,{values:t,setValues:r,form:g,initialValues:{rounding:"disabled",disable_payment_gateways:[]},openDrawer:c,disabled:f,isBaseCurrency:P,flagUrl:R,setFlagUrl:w})))};var xe=r(2725),Re=r(4818);function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ae(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.toStringTag||"@@toStringTag";function o(r,n,c,o){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return Oe(l,"_invoke",function(r,n,c){var o,i,u,l=0,s=c||[],f=!1,y={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return o=t,i=0,u=e,y.n=r,a}};function m(r,n){for(i=r,u=n,t=0;!f&&l&&!c&&t<s.length;t++){var c,o=s[t],m=y.p,p=o[2];r>3?(c=p===n)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((c=r<2&&m<o[1])?(i=0,y.v=n,y.n=o[1]):m<p&&(c=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,y.n=p,i=0))}if(c||r>1)return a;throw f=!0,n}return function(c,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),i=s,u=p;(t=i<2?e:u)||!f;){o||(i?i<3?(i>1&&(y.n=-1),m(i,u)):y.n=u:y.v=u);try{if(l=2,o){if(i||(c="next"),t=o[c]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+c+"' method"),i=1);o=e}else if((t=(f=y.n<0)?u:r.call(n,y))!==a)break}catch(t){o=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,c,o),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(Oe(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Oe(e,c,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,Oe(f,"constructor",l),Oe(l,"constructor",u),u.displayName="GeneratorFunction",Oe(l,c,"GeneratorFunction"),Oe(f),Oe(f,c,"Generator"),Oe(f,n,function(){return this}),Oe(f,"toString",function(){return"[object Generator]"}),(Ae=function(){return{w:o,m:y}})()}function Oe(e,t,r,n){var c=Object.defineProperty;try{c({},"",{})}catch(e){c=0}Oe=function(e,t,r,n){if(t)c?c(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){Oe(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},Oe(e,t,r,n)}function Se(e,t,r,n,c,o,a){try{var i=e[o](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,c)}function je(e){return function(){var t=this,r=arguments;return new Promise(function(n,c){var o=e.apply(t,r);function a(e){Se(o,n,c,a,i,"next",e)}function i(e){Se(o,n,c,a,i,"throw",e)}a(void 0)})}}var Ce=function(){var e=je(Ae().m(function e(t){var r,n,c,o;return Ae().w(function(e){for(;;)switch(e.n){case 0:return r=(0,y.dispatch)(d.A.CURRENCIES),n=r.exchangeCurrencyRate,e.p=1,e.n=2,n(t);case 2:c=e.v,M.Ay.success(c.message),e.n=4;break;case 3:e.p=3,o=e.v,M.Ay.error(o.message),(0,y.dispatch)(d.A.CURRENCIES).setIsExchangingCurrencyRate(t,!1);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(_x){return e.apply(this,arguments)}}();function ke(){var e,t,r,n=(t=(0,m.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,c,o,a,i=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){l=!0,c=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw c}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=n[0],o=n[1],a=(0,(0,y.select)(d.A.CURRENCIES).getCurrencies)().find(function(e){return e.id===x_currency.base_currency_id}),i=function(){var e=je(Ae().m(function e(){var t,r,n,c;return Ae().w(function(e){for(;;)switch(e.n){case 0:return o(!0),t=(0,y.dispatch)(d.A.CURRENCIES),r=t.exchangeAllCurrenciesRate,e.p=1,e.n=2,r();case 2:n=e.v,M.Ay.success(n.message),e.n=4;break;case 3:e.p=3,c=e.v,M.Ay.error(c.message),(0,y.dispatch)(d.A.CURRENCIES).setIsExchangingCurrencyRate(0,!1);case 4:o(!1);case 5:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,(0,l.sprintf)((0,l.__)("Rate (1 %s = ?)","x-currency"),null!==(e=null==a?void 0:a.code)&&void 0!==e?e:"")),React.createElement(u.FlexItem,null,React.createElement(v.Ay,{icon:React.createElement(Re.A,{spin:c}),disabled:c,onClick:i})))}var Pe=r(2652);function Fe(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.toStringTag||"@@toStringTag";function o(r,n,c,o){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return Ie(l,"_invoke",function(r,n,c){var o,i,u,l=0,s=c||[],f=!1,y={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return o=t,i=0,u=e,y.n=r,a}};function m(r,n){for(i=r,u=n,t=0;!f&&l&&!c&&t<s.length;t++){var c,o=s[t],m=y.p,p=o[2];r>3?(c=p===n)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((c=r<2&&m<o[1])?(i=0,y.v=n,y.n=o[1]):m<p&&(c=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,y.n=p,i=0))}if(c||r>1)return a;throw f=!0,n}return function(c,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),i=s,u=p;(t=i<2?e:u)||!f;){o||(i?i<3?(i>1&&(y.n=-1),m(i,u)):y.n=u:y.v=u);try{if(l=2,o){if(i||(c="next"),t=o[c]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+c+"' method"),i=1);o=e}else if((t=(f=y.n<0)?u:r.call(n,y))!==a)break}catch(t){o=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,c,o),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(Ie(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Ie(e,c,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,Ie(f,"constructor",l),Ie(l,"constructor",u),u.displayName="GeneratorFunction",Ie(l,c,"GeneratorFunction"),Ie(f),Ie(f,c,"Generator"),Ie(f,n,function(){return this}),Ie(f,"toString",function(){return"[object Generator]"}),(Fe=function(){return{w:o,m:y}})()}function Ie(e,t,r,n){var c=Object.defineProperty;try{c({},"",{})}catch(e){c=0}Ie=function(e,t,r,n){if(t)c?c(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){Ie(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},Ie(e,t,r,n)}function Te(e,t,r,n,c,o,a){try{var i=e[o](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,c)}var Ne=function(){var e,t=(e=Fe().m(function e(t,r){var n,c,o,a;return Fe().w(function(e){for(;;)switch(e.n){case 0:return n=(0,y.dispatch)(d.A.CURRENCIES),c=n.switchCurrencyStatusById,e.p=1,e.n=2,c(t,r);case 2:o=e.v,M.Ay.success(o.message),e.n=4;break;case 3:e.p=3,a=e.v,M.Ay.error(a.message);case 4:return e.a(2)}},e,null,[[1,3]])}),function(){var t=this,r=arguments;return new Promise(function(n,c){var o=e.apply(t,r);function a(e){Te(o,n,c,a,i,"next",e)}function i(e){Te(o,n,c,a,i,"throw",e)}a(void 0)})});return function(_x,e){return t.apply(this,arguments)}}(),Ge=r(4547),Ue=r(5896),De=r(140);function Be(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.toStringTag||"@@toStringTag";function o(r,n,c,o){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return Le(l,"_invoke",function(r,n,c){var o,i,u,l=0,s=c||[],f=!1,y={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return o=t,i=0,u=e,y.n=r,a}};function m(r,n){for(i=r,u=n,t=0;!f&&l&&!c&&t<s.length;t++){var c,o=s[t],m=y.p,p=o[2];r>3?(c=p===n)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((c=r<2&&m<o[1])?(i=0,y.v=n,y.n=o[1]):m<p&&(c=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,y.n=p,i=0))}if(c||r>1)return a;throw f=!0,n}return function(c,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),i=s,u=p;(t=i<2?e:u)||!f;){o||(i?i<3?(i>1&&(y.n=-1),m(i,u)):y.n=u:y.v=u);try{if(l=2,o){if(i||(c="next"),t=o[c]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+c+"' method"),i=1);o=e}else if((t=(f=y.n<0)?u:r.call(n,y))!==a)break}catch(t){o=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,c,o),!0),l}var a={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(Le(t={},n,function(){return this}),t),f=l.prototype=i.prototype=Object.create(s);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Le(e,c,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,Le(f,"constructor",l),Le(l,"constructor",u),u.displayName="GeneratorFunction",Le(l,c,"GeneratorFunction"),Le(f),Le(f,c,"Generator"),Le(f,n,function(){return this}),Le(f,"toString",function(){return"[object Generator]"}),(Be=function(){return{w:o,m:y}})()}function Le(e,t,r,n){var c=Object.defineProperty;try{c({},"",{})}catch(e){c=0}Le=function(e,t,r,n){if(t)c?c(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){Le(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},Le(e,t,r,n)}function Me(e,t,r,n,c,o,a){try{var i=e[o](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,c)}var $e=function(){var e,t=(e=Be().m(function e(t){var r,n,c,o;return Be().w(function(e){for(;;)switch(e.n){case 0:return r=(0,y.dispatch)(d.A.CURRENCIES),n=r.deleteSingleCurrency,e.p=1,e.n=2,n(t);case 2:c=e.v,M.Ay.success(c.message),e.n=4;break;case 3:e.p=3,o=e.v,M.Ay.error(o.message);case 4:return e.a(2)}},e,null,[[1,3]])}),function(){var t=this,r=arguments;return new Promise(function(n,c){var o=e.apply(t,r);function a(e){Me(o,n,c,a,i,"next",e)}function i(e){Me(o,n,c,a,i,"throw",e)}a(void 0)})});return function(_x){return t.apply(this,arguments)}}();const ze=[{title:(0,l.__)("Name","x-currency"),dataIndex:"name",key:"name",render:function(e,t){var r=x_currency.base_currency_id===t.id;return React.createElement(R,null,React.createElement(u.FlexItem,{className:"flag"},React.createElement("img",{src:t.flag_url.length>0?t.flag_url:"".concat(x_currency.asset_url,"/images/flags/").concat(x_currency.countries_code[t.code],".png"),alt:(0,l.sprintf)((0,l.__)("Flag of %s","x-currency"),e)})),React.createElement(u.FlexBlock,{className:"information"},React.createElement("span",{className:"top"},React.createElement("span",{className:"name"},e),React.createElement($.A,{bordered:!1,color:"processing"},t.code),r&&React.createElement($.A,{bordered:!1,color:"green"},(0,l.__)("Base Currency","x-currency"))),React.createElement("span",{className:"bottom"},t.updated_at?(0,l.sprintf)((0,l.__)("Last updated at - %s","x-currency"),t.updated_at):"")))}},{title:function(){return React.createElement(ke,null)},dataIndex:"rate",key:"rate",align:"right",render:function(e,t){var r=x_currency.base_currency_id===t.id;return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,(0,l.sprintf)((0,xe.X)(t.symbol_position),t.symbol,e)),React.createElement(u.FlexItem,null,React.createElement(v.Ay,{icon:React.createElement(Re.A,{spin:!r&&t.isUpdatingRate}),disabled:r||t.isUpdatingRate,onClick:function(){return Ce(t.id)}})))}},{title:(0,l.__)("Extra Fee","x-currency"),dataIndex:"extra_fee",key:"extra_fee",align:"right",render:function(e,t){return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,sprintf((0,xe.X)(t.symbol_position),t.symbol,e)),React.createElement(u.FlexItem,null,React.createElement($.A,{bordered:!1,color:"gold",style:{textTransform:"capitalize"}},t.extra_fee_type)))}},{title:(0,l.__)("Rounding","x-currency"),dataIndex:"rounding",key:"rounding",align:"right",render:function(e){return React.createElement("span",{style:{textTransform:"capitalize"}},e)}},{title:(0,l.__)("Status","x-currency"),dataIndex:"active",key:"active",align:"right",render:function(e,t){var r=x_currency.base_currency_id===t.id;return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,(0,l.__)("Active","x-currency")),React.createElement(u.FlexItem,null,React.createElement(Pe.A,{checked:e,disabled:r,loading:t.isUpdatingStatus,onClick:function(){return Ne(t.id,e)}})))}},{title:(0,l.__)("Action","x-currency"),dataIndex:"id",key:"action",align:"right",render:function(e){var t=x_currency.base_currency_id===e;return React.createElement(u.Flex,null,React.createElement(u.FlexBlock,null,React.createElement(v.Ay,{icon:React.createElement(Ue.A,null),onClick:function(){return function(e){(0,p.doAction)("x-currency-show-currency-update-drawer",!0,e)}(e)}},(0,l.__)("Edit","x-currency"))),React.createElement(u.FlexItem,null,React.createElement(Ge.A,{placement:"bottomRight",title:(0,l.__)("Are you sure to delete this currency?","x-currency"),okText:(0,l.__)("Yes","x-currency"),cancelText:(0,l.__)("No","x-currency"),onConfirm:function(){return $e(e)},disabled:t},React.createElement(v.Ay,{type:"primary",icon:React.createElement(De.A,null),disabled:t,danger:!0}))))}}];var Ve=r(5546),qe=r(7792),Xe=r(7313),Ye=r(3286),He=r(7893);function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach(function(t){We(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function We(e,t,r){return(t=function(e){var t=function(e){if("object"!=Je(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Je(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ze.apply(null,arguments)}var et=(0,m.createContext)({}),tt=function(){var e=(0,m.useContext)(et),t=e.setActivatorNodeRef,r=e.listeners;return React.createElement(v.Ay,Ze({type:"text",size:"small",icon:React.createElement(Ve.A,null),style:{cursor:"move"},ref:t},r))},rt=function(e){var t=(0,Ye.gl)({id:e["data-row-key"]}),r=t.attributes,n=t.listeners,c=t.setNodeRef,o=t.setActivatorNodeRef,a=t.transform,i=t.transition,u=t.isDragging,l=Qe(Qe({},e.style),{},{transform:He.Ks.Translate.toString(a),transition:i},u?{position:"relative",zIndex:9999}:{}),s=(0,m.useMemo)(function(){return{setActivatorNodeRef:o,listeners:n}},[o,n]);return React.createElement(et.Provider,{value:s},React.createElement("tr",Ze({},e,{ref:c,style:l},r)))};function nt(e){var t=e.children,r=e.currencies,n=e.sortCurrencies,c=(0,m.useCallback)(function(e){var t=e.active,c=e.over;if(c&&t.id!==c.id){var o=r.findIndex(function(e){return e.id===t.id}),a=r.findIndex(function(e){return e.id===c.id}),i=(0,Ye.be)(r,o,a);n(i)}},[r,n]);return React.createElement(qe.Mp,{modifiers:[Xe.FN],onDragEnd:c},React.createElement(Ye.gB,{items:r.map(function(e){return e.id}),strategy:Ye._G},t))}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ot=function(){(0,p.doAction)("x-currency-show-currency-drawer",!0)},at=(0,y.withSelect)(function(e){var t=e(d.A.CURRENCIES),r=t.getCurrencies,n=t.isLoading;return{currencies:r(),isLoading:n()}}),it=(0,y.withDispatch)(function(e){return{sortCurrencies:e(d.A.CURRENCIES).sortCurrencies}}),ut=(0,f.compose)([at,it])(function(e){var t,r=e.currencies,n=e.isLoading,c=e.sortCurrencies,o=(0,xe.$)();return React.createElement(w,{title:(0,l.__)("Currencies","x-currency"),extra:React.createElement(u.Flex,null,!o&&React.createElement(m.Fragment,null,React.createElement(u.FlexItem,null,(0,l.sprintf)((0,l.__)("You have used %d/3 free currency","x-currency"),r.length)),React.createElement(u.FlexItem,null,React.createElement(v.Ay,{variant:"outlined",color:"primary",href:"https://doatkolom.com/x-currency",target:"_blank"},(0,l.__)("Upgrade","x-currency")))),React.createElement(u.FlexBlock,null,React.createElement(v.Ay,{type:"primary",icon:React.createElement(g.A,null),onClick:ot,disabled:!o&&r.length>=3||0===r.length},(0,l.__)("Add New Currency","x-currency"))))},React.createElement(nt,{currencies:r,sortCurrencies:c},React.createElement(b.A,{rowKey:"id",components:{body:{row:rt}},dataSource:r,columns:[{key:"sort",align:"center",render:function(){return React.createElement(tt,null)}}].concat((t=ze,function(e){if(Array.isArray(e))return ct(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ct(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ct(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),currencies:r,loading:n,pagination:!1})),React.createElement(le,null),React.createElement(Ee,null))});const lt=(0,m.memo)(ut);var st=r(5736);function ft(){return React.createElement(i.A,{key:"currencies"},React.createElement(u.Fill,{name:s.A.PRIMARY_HEADER_NAME},(0,l.__)("Currencies","x-currency")),!(0,xe.$)()&&React.createElement(st.A,{message:(0,l.__)("ðŸŽ‰ Get X-Currency Pro for Free!","x-currency"),description:React.createElement(React.Fragment,null,(0,l.__)("Youâ€™re currently using the free version of X-Currency. Join our Facebook community to receive the Pro version absolutely free â€” exclusively for our community members!","x-currency")," ",React.createElement("a",{href:"https://www.facebook.com/groups/doatkolom",target:"_blank",rel:"noopener noreferrer"},(0,l.__)("Join Now","x-currency"))),type:"info",showIcon:!0,style:{marginBottom:20}}),React.createElement(lt,null))}}}]);